<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reflect PWA - Test Page</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
    ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.3); border-radius: 10px; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="importmap">
  {
    "imports": {
      "react": "https://esm.sh/react@18.2.0",
      "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
      "firebase/app": "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",
      "firebase/auth": "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js",
      "firebase/firestore": "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"
    }
  }
  </script>
  
  <script type="module">
    import React, { useState } from 'react';
    import { createRoot } from 'react-dom/client';
    
    // Configuration Test Component
    function ConfigTest() {
      const [appId, setAppId] = useState('reflect-pwa');
      const [apiKey, setApiKey] = useState('');
      const [authDomain, setAuthDomain] = useState('');
      const [projectId, setProjectId] = useState('');
      const [storageBucket, setStorageBucket] = useState('');
      const [messagingSenderId, setMessagingSenderId] = useState('');
      const [appIdConfig, setAppIdConfig] = useState('');
      const [configSaved, setConfigSaved] = useState(false);
      
      const saveConfig = () => {
        window.__app_id = appId;
        window.__firebase_config = {
          apiKey,
          authDomain,
          projectId,
          storageBucket,
          messagingSenderId,
          appId: appIdConfig
        };
        window.__initial_auth_token = null;
        setConfigSaved(true);
      };
      
      const launchApp = () => {
        window.location.href = '/index.html';
      };
      
      return React.createElement('div', { 
        className: 'min-h-screen bg-gradient-to-br from-indigo-500/80 to-purple-400/80 p-4' 
      },
        React.createElement('div', { className: 'max-w-2xl mx-auto' },
          React.createElement('div', { className: 'bg-white/20 backdrop-blur-lg rounded-3xl p-8 shadow-xl mb-4' },
            React.createElement('h1', { className: 'text-3xl font-bold text-white mb-2' }, 'üß™ Reflect PWA - Configuration Test'),
            React.createElement('p', { className: 'text-white/80 mb-6' }, 'Enter your Firebase configuration to test the app')
          ),
          
          React.createElement('div', { className: 'bg-white/20 backdrop-blur-lg rounded-3xl p-6 shadow-xl space-y-4' },
            React.createElement('div', null,
              React.createElement('label', { className: 'block text-white font-medium mb-2' }, 'App ID'),
              React.createElement('input', {
                type: 'text',
                value: appId,
                onChange: (e) => setAppId(e.target.value),
                placeholder: 'reflect-pwa',
                className: 'w-full bg-white/30 backdrop-blur-md rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50'
              })
            ),
            
            React.createElement('div', null,
              React.createElement('label', { className: 'block text-white font-medium mb-2' }, 'Firebase API Key'),
              React.createElement('input', {
                type: 'text',
                value: apiKey,
                onChange: (e) => setApiKey(e.target.value),
                placeholder: 'AIza...',
                className: 'w-full bg-white/30 backdrop-blur-md rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50'
              })
            ),
            
            React.createElement('div', null,
              React.createElement('label', { className: 'block text-white font-medium mb-2' }, 'Auth Domain'),
              React.createElement('input', {
                type: 'text',
                value: authDomain,
                onChange: (e) => setAuthDomain(e.target.value),
                placeholder: 'your-project.firebaseapp.com',
                className: 'w-full bg-white/30 backdrop-blur-md rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50'
              })
            ),
            
            React.createElement('div', null,
              React.createElement('label', { className: 'block text-white font-medium mb-2' }, 'Project ID'),
              React.createElement('input', {
                type: 'text',
                value: projectId,
                onChange: (e) => setProjectId(e.target.value),
                placeholder: 'your-project-id',
                className: 'w-full bg-white/30 backdrop-blur-md rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50'
              })
            ),
            
            React.createElement('div', null,
              React.createElement('label', { className: 'block text-white font-medium mb-2' }, 'Storage Bucket'),
              React.createElement('input', {
                type: 'text',
                value: storageBucket,
                onChange: (e) => setStorageBucket(e.target.value),
                placeholder: 'your-project.appspot.com',
                className: 'w-full bg-white/30 backdrop-blur-md rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50'
              })
            ),
            
            React.createElement('div', null,
              React.createElement('label', { className: 'block text-white font-medium mb-2' }, 'Messaging Sender ID'),
              React.createElement('input', {
                type: 'text',
                value: messagingSenderId,
                onChange: (e) => setMessagingSenderId(e.target.value),
                placeholder: '123456789',
                className: 'w-full bg-white/30 backdrop-blur-md rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50'
              })
            ),
            
            React.createElement('div', null,
              React.createElement('label', { className: 'block text-white font-medium mb-2' }, 'App ID (Firebase)'),
              React.createElement('input', {
                type: 'text',
                value: appIdConfig,
                onChange: (e) => setAppIdConfig(e.target.value),
                placeholder: '1:123456789:web:abcdef',
                className: 'w-full bg-white/30 backdrop-blur-md rounded-2xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50'
              })
            ),
            
            React.createElement('button', {
              onClick: saveConfig,
              className: 'w-full py-3 bg-white/40 hover:bg-white/50 rounded-2xl text-white font-semibold transition-all'
            }, 'Save Configuration'),
            
            configSaved && React.createElement('div', { className: 'bg-green-500/30 backdrop-blur-md rounded-2xl p-4 text-white' },
              React.createElement('p', { className: 'mb-3' }, '‚úÖ Configuration saved! You can now:'),
              React.createElement('ol', { className: 'list-decimal list-inside space-y-2 mb-4' },
                React.createElement('li', null, 'Update index.html with these values for permanent config'),
                React.createElement('li', null, 'Or click below to test with current session config')
              ),
              React.createElement('button', {
                onClick: launchApp,
                className: 'w-full py-3 bg-green-500/40 hover:bg-green-500/50 rounded-2xl text-white font-semibold transition-all'
              }, 'Launch Reflect App ‚Üí')
            )
          ),
          
          React.createElement('div', { className: 'bg-white/20 backdrop-blur-lg rounded-3xl p-6 shadow-xl mt-4' },
            React.createElement('h2', { className: 'text-xl font-bold text-white mb-3' }, 'üìã Quick Setup Checklist'),
            React.createElement('ul', { className: 'space-y-2 text-white/90' },
              React.createElement('li', null, '‚òê Created Firebase project'),
              React.createElement('li', null, '‚òê Enabled Firestore Database'),
              React.createElement('li', null, '‚òê Enabled Anonymous Authentication'),
              React.createElement('li', null, '‚òê Set Firestore security rules'),
              React.createElement('li', null, '‚òê Got Groq API key'),
              React.createElement('li', null, '‚òê Got Deepseek API key')
            )
          )
        )
      );
    }
    
    const root = createRoot(document.getElementById('root'));
    root.render(React.createElement(ConfigTest));
  </script>
</body>
</html>
